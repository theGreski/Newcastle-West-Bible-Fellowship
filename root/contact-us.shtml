<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags always come first -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Contact Us | Newcastle West Bible Fellowship</title>
        <meta name="robots" content="index, follow" />
        <link rel="SHOTRTCUT ICON" href="favicon.ico" />
        <link rel="ICON" href="favicon.ico" type="image/x-icon" />
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="64x64" href="static/icon_apple_64.png" />
        <link rel="apple-touch-icon" sizes="181x181" href="static/icon_apple_181.png" />
        <link rel="icon" type="image/png" sizes="181x181" href="static/icon_181.png" />
        <link rel="icon" type="image/png" sizes="64x64" href="static/icon_64.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="static/icon_32.png" />
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    </head>
    <body>
        <div id="contact-us" class="halfsize-bg-img container-fluid" data-parallax="true" data-speed="2">
            <div class="background"></div>
            <a class="brand-logo" href="./">
                <img src="static/ncwbf-white.svg" alt="Newcastle West Bible Fellowship logo" />
            </a>
            
            <!--#include file="_menu.html" -->
            
            <div class="container">
                <h1 class="text-uppercase display-3" >contact us</h1>
            </div>
        </div>
        <div class="container">
            
            <p class="text-3-custom text-center mt-4"><strong>Our elders</strong></p>
            
            
            <p>
                If you have any questions, concerns or needs that you would like to discuss, please feel free to contact one of us.
            </p>
            
            <div class="media mb-4">
                <img class="d-flex align-self-center mr-3 rounded-circle" src="static/colin.jpg" alt="Colin">
                <div class="media-body align-self-center">
                    <p class="text-4-custom text-uppercase mb-1"><strong>Colin &amp; Natalie Burnett</strong></p>
                    Serving the Lord in Newcastle West, Ireland since 1999<br>
                    <a href="tel:0857381970">085&nbsp;738&nbsp;1970</a>
                </div>
            </div>
            <!--<div class="media mb-4">
                <img class="d-flex align-self-center mr-3 rounded-circle" src="static/andy.jpg" alt="Andrew">
                <div class="media-body align-self-center">
                    <p class="text-4-custom text-uppercase mb-1"><strong>Andrew &amp; Gillian Shanks</strong></p>
                    Serving the Lord in Newcastle West, Ireland since 2007<br>
                    <a href="tel:0868744182">086&nbsp;874&nbsp;4182</a>
                </div>
            </div>-->
            <div class="media">
                <img class="d-flex align-self-center mr-3 rounded-circle" src="static/greg.jpg" alt="Greg">
                <div class="media-body align-self-center">
                    <p class="text-4-custom text-uppercase"><strong>Gregor &amp; Marta Rekowski</strong></p>
                    <a href="tel:0864468535">086&nbsp;446&nbsp;8535</a>
                </div>
            </div>
            
            
            
            <p class="text-3-custom text-center mt-5"><strong>Contact form</strong></p>
            
            <form id="ajax-contact" method="post" action="mailer.php" class="mb-5">
                <div class="row form-group">
                    <label for="InputName" class="col-lg-3 col-form-label text-lg-right">Name <span class="text-danger">*</span></label>
                    <div class="col">
                        <input type="text" class="form-control" id="InputName" name="InputName" placeholder="Enter your name" required>
                    </div>
                </div>
                <div class="row form-group">
                    <label for="InputContact" class="col-lg-3 col-form-label text-lg-right">Email address or phone no <span class="text-danger">*</span></label>
                    <div class="col">
                        <input type="text" class="form-control" id="InputContact" name="InputContact" placeholder="Enter email or phone number" required>
                    </div>
                </div>
                <div class="row form-group">
                    <label for="TextareaMessage" class="col-lg-3 col-form-label text-lg-right">Question, Comment, or Prayer Request <span class="text-danger">*</span></label>
                    <div class="col">
                        <textarea class="form-control col" id="TextareaMessage" name="TextareaMessage" rows="6" required></textarea>
                    </div>
                </div>
                <div class="row form-group">
                    <label for="math" class="col-lg-3 col-form-label text-lg-right">Answer the question. <span class="text-danger">*</span> <span id="captcha"></span> =</label>
                    <div class="col">
                        <input type="hidden" class="form-control" id="n1" name="n1" required>
                        <input type="hidden" class="form-control" id="n2" name="n2" required>
                        <input type="hidden" class="form-control" id="cal" name="cal" required>
                        <input type="text" class="form-control" id="math" name="math" required>
                    </div>
                </div>
                
                <!--<div id="reCAPTCHA" class="g-recaptcha d-flex justify-content-center" data-sitekey="6LexBxAUAAAAAKTmQBuAPSQDaN_fNkbVvU4IL2pr"></div>-->
                <span class='fname'>
                    <input type='text' name='fname' placeholder='fname' autocomplete='off'>
                </span>
                <div id="form-messages" role="alert"></div>
                <button type="submit" id="submit" class="btn btn-primary btn-lg btn-block mt-3">Send</button>
            </form>

            
        </div>
        
        <!--#include file="_footer.shtml" -->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        <script src="static/scripts.js"></script>
        <link rel="stylesheet" href="static/styles.css">
        
        <style>
            .fname {
				display: none;
			}
            #contact-us > .background {
                background-image: url("static/contact_us-4.png");
                
            }
            
            #contact-us + div img {
                width: 124px;
                box-shadow: 0px 0px 1px rgba(0,0,0,0.2), 1px 1px 7px rgba(0,0,0,0.3);
            }
            #submit {
                box-sizing: border-box;
                border: 1px solid transparent;
                border-color: #0275d8;
                border-radius: 5px;
                text-align: center;
                margin: auto;
                background-color: #0275d8;
                height: 3.4rem;
                min-width: 3.4rem;
                width: auto;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                transition: all 0.4s linear;
            }
            #submit.sending-progress {
                padding: 0;
                width: 3.4rem;
                color: transparent;
                border-radius: 50%;
                background-color: #ffffff;
                opacity: 1;
                animation: pulse 1.5s infinite linear;
            }
            #submit.sending-success {
                color: #fff;
                background-color: rgb(76,217,100);
                border-color: rgb(56,197,80);
                opacity: 1;
            }

            @keyframes pulse {
                0%   {border-width: 1px;}
                20%  {border-width: 6px;}
                25%  {border-width: 6px;}
                40%  {border-width: 2px;}
                60%  {border-width: 7px;}
                92%  {border-width: 7px;}
                100%  {border-width: 1px;}
            }
        </style>

        <script>
            
            
            
            
            
            function validation(){
                var errors = false;
                $("#ajax-contact > .form-group").each(function(){
                    var warn = false;
                    $(this).find("input, textarea").each(function(){
                        if ($(this).val().length < 1){
                            errors = true;
                            warn = true;
                            $(this).addClass("form-control-warning");
                        } else {
                            warn = false;
                            $(this).removeClass("form-control-warning");
                        }
                    });
                    if (warn == true) {
                        $(this).addClass("has-warning");
                    } else {
                        $(this).removeClass("has-warning");
                    }
                });
                return !errors;
            }

            function generateCaptcha() {
                const numList = Array("2", "3", "4", "5");
                const calList = Array("+", "*");
                const n1 = numList[Math.floor(Math.random()*numList.length)];
                const n2 = numList[Math.floor(Math.random()*numList.length)];
                const cal = calList[Math.floor(Math.random()*calList.length)];
                $("#n1").val(n1);
                $("#n2").val(n2);
                $("#cal").val(cal);
                $("#captcha").text(n1 + " " + cal + " " + n2);
            }
            
            
            $(document).ready(function(){
                
                draw();

                // After DOM load check height of the selector with height:100vh
                // then set it to that selector
                // when address bar hides on mobile, it will not resize
                // recalculate only on orientationchange
                //
                window.addEventListener('orientationchange', () => {calcVH("whatitslike")}, true);

                calcVH("contact-us");
                
                enableClickToTop();
                
                generateCaptcha();
                
                // Sending contact form using ajax technology
                // Get the form and messages container
                //
                var form = $("#ajax-contact"),
                    formMessages = $("#form-messages");
                
                // Set up an event listener for the contact form.
                $(form).submit(function(event) {
                    // Stop the browser from submitting the form.
                    event.preventDefault();
                    
                    if (validation()){
                        
                        // Serialize the form data.
                        var formData = $(form).serialize();
                        
                        $(formMessages).removeClass("alert alert-success alert-info alert-warning alert-danger");
                        //$(formMessages).addClass("alert alert-info").text("Sending...");
                        //$(formMessages).text("Sending...");
                        $(form).find("button[type=submit]").addClass("sending-progress").attr("disabled", true);
                        
                        // Submit the form using AJAX.
                        $.ajax({
                            type: "POST",
                            url: $(form).attr("action"),
                            data: formData
                        })
                        .done(function(response) {
                            // Make sure that the formMessages div has the 'success' class.
                            $(formMessages).text("").removeClass("alert alert-success alert-info alert-warning alert-danger");
                            
                            // Set the message text.
                            //$(formMessages).text(response);

                            // Disable form fields.
                            $("input, textarea").attr("readonly", true);
                            $(form).find("button[type=submit]").addClass("sending-success").removeClass("sending-progress").attr("disabled", true).text(response);
                            
                        })
                        .fail(function(data) {
                            // Make sure that the formMessages div has the 'error' class.
                            $(formMessages).removeClass("alert alert-success alert-info alert-warning alert-danger").addClass("alert alert-danger");
                            $(form).find("button[type=submit]").removeClass("sending-progress").attr("disabled", false);

                            // Set the message text.
                            if (data.responseText !== '') {
                                $(formMessages).text(data.responseText);
                            } else {
                                $(formMessages).text('Oops! An error occured and your message could not be sent.');
                            }
                        });
                    }
                    
                });
                
            });
            
        </script>
    </body>
</html>